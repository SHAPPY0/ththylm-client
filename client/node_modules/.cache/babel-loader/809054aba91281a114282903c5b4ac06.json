{"ast":null,"code":"var _jsxFileName = \"/home/saurabh/workspace/go/thehylm-client/src/components/add-channel.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Axios_Instance, Ax } from '../utils/axiosInterceptor';\nimport { BASEURL, ROUTES } from '../config/routes';\nimport { checkAuthorization, getUserDetails } from '../utils';\nimport { CHANNEL_REQ_VALIDATOR } from '../utils/validators';\nimport { Notification } from '../utils';\n\nclass AddChannels extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: {},\n      form: {\n        'type': '',\n        'platform': '',\n        'channel_name': '',\n        'channel_url': '',\n        'about': '',\n        'tags': '',\n        'logo': ''\n      }\n    };\n  }\n\n  componentDidMount() {\n    checkAuthorization(this.props);\n    let details = getUserDetails();\n    this.setState({\n      user: details\n    });\n  }\n\n  _onFormFieldChange(e) {\n    let {\n      form\n    } = this.state;\n    let emdObj = form;\n\n    if (e.target.name === 'logo') {\n      emdObj[e.target.name] = e.target.files[0];\n    } else emdObj[e.target.name] = e.target.value;\n\n    this.setState({\n      form\n    });\n  }\n\n  async _addChannel(e) {\n    e.preventDefault();\n    let {\n      form\n    } = this.state;\n    if (form.tags) form.tags = form.tags.split(\",\");\n\n    let _err = CHANNEL_REQ_VALIDATOR(form);\n\n    if (_err && _err.is_error) {\n      Notification({\n        show: true,\n        data: {\n          success: false,\n          msg: _err.msg || 'Please fill required values'\n        }\n      });\n      return;\n    }\n\n    let fd = new FormData();\n\n    for (let k in form) {\n      fd.append(k, form[k]);\n    }\n\n    ; // let _error = BUILDING_REQ_VALIDATOR(form);\n    // if(_error && _error.is_error){\n    //     alert(_error.msg);\n    //     return;\n    // } \n\n    try {\n      let _resp = await Axios_Instance.post(`${ROUTES.add_channel}`, fd);\n\n      if (!_resp) {\n        _resp = {\n          data: {\n            success: false,\n            msg: 'Unexpected erro occured'\n          }\n        };\n        return;\n      }\n\n      Notification({\n        show: true,\n        data: {\n          success: _resp.data.success,\n          msg: _resp.data.message || _resp.data.msg\n        }\n      });\n      this.props.history.push('/channels');\n    } catch (ex) {\n      Notification({\n        show: true,\n        data: ex ? ex.response ? ex.response.data : ex : \"Exception ocurred\"\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"page-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        'textTransform': 'capitalize'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }\n    }, \"Add Channels/Pages\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-wrap has-float-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"type\",\n      required: true,\n      onChange: this._onFormFieldChange.bind(this),\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 41\n      }\n    }, \"--\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"channel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 41\n      }\n    }, \"Channel\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 41\n      }\n    }, \"Page\")), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 37\n      }\n    }, \"Type*\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-wrap has-float-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"platform\",\n      required: true,\n      onChange: this._onFormFieldChange.bind(this),\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 37\n      }\n    }, \"--\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"youtube\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 37\n      }\n    }, \"Youtube \"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"facebook\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 37\n      }\n    }, \"Facebook\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"instagram\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 37\n      }\n    }, \"Twitter\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"instagram\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 37\n      }\n    }, \"Instagram\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"dailymotion\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 37\n      }\n    }, \"DailyMotion\")), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 33\n      }\n    }, \"Platform*\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-wrap has-float-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"channel_name\",\n      className: \"form-control\",\n      min: \"1\",\n      onChange: this._onFormFieldChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 37\n      }\n    }, \"Channel/Page Name*\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-wrap has-float-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"channel_url\",\n      required: true,\n      className: \"form-control\",\n      min: \"1\",\n      onChange: this._onFormFieldChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 37\n      }\n    }, \"Channel/Page URL*\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-wrap has-float-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"tags\",\n      required: true,\n      className: \"form-control\",\n      onChange: this._onFormFieldChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 37\n      }\n    }, \"Tags(comma separated)\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-wrap has-float-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"about\",\n      required: true,\n      className: \"form-control\",\n      onChange: this._onFormFieldChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 37\n      }\n    }, \"Brief About\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-wrap has-float-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"logo\",\n      className: \"form-control\",\n      min: \"1\",\n      onChange: this._onFormFieldChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 37\n      }\n    }, \"Logo\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: this._addChannel.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 33\n      }\n    }, \"Add\"))));\n  }\n\n}\n\nexport default withRouter(AddChannels);","map":{"version":3,"sources":["/home/saurabh/workspace/go/thehylm-client/src/components/add-channel.js"],"names":["React","Component","withRouter","Axios_Instance","Ax","BASEURL","ROUTES","checkAuthorization","getUserDetails","CHANNEL_REQ_VALIDATOR","Notification","AddChannels","constructor","state","user","form","componentDidMount","props","details","setState","_onFormFieldChange","e","emdObj","target","name","files","value","_addChannel","preventDefault","tags","split","_err","is_error","show","data","success","msg","fd","FormData","k","append","_resp","post","add_channel","message","history","push","ex","response","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'; \nimport { withRouter } from 'react-router-dom';\nimport { Axios_Instance, Ax } from '../utils/axiosInterceptor';\nimport { BASEURL, ROUTES} from '../config/routes';\nimport { checkAuthorization, getUserDetails } from '../utils';\nimport { CHANNEL_REQ_VALIDATOR } from '../utils/validators';\nimport {Notification} from '../utils';\n\nclass AddChannels extends Component {\n    constructor(){\n        super(); \n        this.state = {\n            user:{},\n            form:{\n                'type':'',\n                'platform':'',\n                'channel_name':'',\n                'channel_url':'',\n                'about':'',\n                'tags':'',\n                'logo':''\n            }\n        }\n    }\n\n    componentDidMount(){\n        checkAuthorization(this.props);\n        let details = getUserDetails();\n        this.setState({user:details});\n    };\n\n    _onFormFieldChange(e){\n        let { form } =  this.state;\n        let emdObj = form;\n        if(e.target.name === 'logo'){\n            emdObj[e.target.name] = e.target.files[0];    \n        }else\n            emdObj[e.target.name] = e.target.value;\n        this.setState({form});\n    };\n\n\n    async _addChannel(e){\n        e.preventDefault();\n        let { form } = this.state;\n        if(form.tags) form.tags = form.tags.split(\",\");\n        let _err = CHANNEL_REQ_VALIDATOR(form);\n        if(_err && _err.is_error){\n            Notification({\n                show: true,\n                data:{success:false, msg:_err.msg || 'Please fill required values'}\n              });\n              return;\n        }\n        let fd = new FormData();\n        for( let k  in form){\n            fd.append(k,form[k]);\n        };\n \n        // let _error = BUILDING_REQ_VALIDATOR(form);\n        // if(_error && _error.is_error){\n        //     alert(_error.msg);\n        //     return;\n        // } \n        try{\n            let _resp = await Axios_Instance.post(`${ROUTES.add_channel}`,fd);\n            if(!_resp){\n                _resp = {data:{success:false, msg:'Unexpected erro occured'} };\n                return;\n            }\n            Notification({\n                show: true,\n                data:{success:_resp.data.success, msg:_resp.data.message || _resp.data.msg}\n              });\n              this.props.history.push('/channels');\n        }catch(ex){\n            Notification({\n                show:true,\n                data:ex ? (ex.response ?ex.response.data : ex) : \"Exception ocurred\"});\n            \n        }\n        \n    }\n\n  render() {\n            return (\n                <div className=\"main-container\">\n                <div className=\"container\">\n                    <h4 className=\"page-title\">\n                        <p style={{'textTransform':'capitalize'}}>Add Channels/Pages</p>\n                    </h4>\n\n                    <div className=\"card\">\n                        <div className=\"row\">\n                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                <div className=\"input-wrap has-float-label\">\n                                    {/* <input type=\"text\" name=\"name\" className=\"form-control\" onChange={this._onFormFieldChange.bind(this,'root',-1,-1)}/> */}\n                                    <select name=\"type\" required onChange={this._onFormFieldChange.bind(this)}  className=\"form-control\">\n                                        <option>--</option>\n                                        <option value=\"channel\">Channel</option>\n                                        <option value=\"page\">Page</option>\n                                    </select>\n                                    <span>Type*</span>\n                                </div>\n                            </div>\n                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                <div className=\"input-wrap has-float-label\">\n                                <select name=\"platform\" required onChange={this._onFormFieldChange.bind(this)}  className=\"form-control\">\n                                    <option>--</option>\n                                    <option value=\"youtube\">Youtube </option>\n                                    <option value=\"facebook\">Facebook</option>\n                                    <option value=\"instagram\">Twitter</option>\n                                    <option value=\"instagram\">Instagram</option>\n                                    <option value=\"dailymotion\">DailyMotion</option>\n                                </select>\n                                <span>Platform*</span>\n                                </div>\n                            </div>\n                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                <div className=\"input-wrap has-float-label\">\n                                    <input type=\"text\" name=\"channel_name\" className=\"form-control\" min=\"1\" onChange={this._onFormFieldChange.bind(this)}/>\n                                    <span>Channel/Page Name*</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                <div className=\"input-wrap has-float-label\">\n                                    <input type=\"text\" name=\"channel_url\" required={true} className=\"form-control\" min=\"1\" onChange={this._onFormFieldChange.bind(this)}/>\n                                    <span>Channel/Page URL*</span>\n                                </div>\n                            </div>\n                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                <div className=\"input-wrap has-float-label\">\n                                    <input type=\"text\" name=\"tags\" required={true} className=\"form-control\" onChange={this._onFormFieldChange.bind(this)}/>\n                                    <span>Tags(comma separated)</span>\n                                </div>\n                            </div>\n                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                <div className=\"input-wrap has-float-label\">\n                                    <input type=\"text\" name=\"about\" required={true} className=\"form-control\" onChange={this._onFormFieldChange.bind(this)}/>\n                                    <span>Brief About</span>\n                                </div>\n                            </div>\n                        </div> \n                        <div className=\"row\">\n                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                <div className=\"input-wrap has-float-label\">\n                                    <input type=\"file\" name=\"logo\"  className=\"form-control\" min=\"1\" onChange={this._onFormFieldChange.bind(this)}/>\n                                    <span>Logo</span>\n                                </div>\n                            </div>\n                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                {/* <div className=\"input-wrap has-float-label\">\n                                    <input type=\"text\" name=\"tags\" required={true} className=\"form-control\" onChange={this._onFormFieldChange.bind(this,'root',-1,-1)}/>\n                                    <span>Tags</span>\n                                </div> */}\n                            </div>\n                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                {/* <div className=\"input-wrap has-float-label\">\n                                    <input type=\"text\" name=\"about\" required={true} className=\"form-control\" onChange={this._onFormFieldChange.bind(this,'root',-1,-1)}/>\n                                    <span>Brief About</span>\n                                </div> */}\n                            </div>\n                        </div> \n                    </div>\n \n                        <div className=\"pull-right\">\n                                <button className=\"btn btn-primary\" onClick={this._addChannel.bind(this)}>Add</button>\n                        </div>\n                </div>\n                </div>\n            );\n    }\n  \n}\n\nexport default withRouter(AddChannels);"]},"metadata":{},"sourceType":"module"}