{"ast":null,"code":"import _regeneratorRuntime from\"/home/saurabh/workspace/go/thehylm-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/saurabh/workspace/go/thehylm-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/saurabh/workspace/go/thehylm-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/saurabh/workspace/go/thehylm-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/saurabh/workspace/go/thehylm-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/saurabh/workspace/go/thehylm-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withRouter,Link}from'react-router-dom';import{Axios_Instance,Ax}from'../utils/axiosInterceptor';import{BASEURL,ROUTES}from'../config/routes';import{checkAuthorization,getUserDetails}from'../utils';import{Notification}from'../utils';var Channles=/*#__PURE__*/function(_Component){_inherits(Channles,_Component);var _super=_createSuper(Channles);function Channles(){var _this;_classCallCheck(this,Channles);_this=_super.call(this);_this.state={user:{},form:{\"response\":[],\"selectedChannel\":{}}};return _this;}_createClass(Channles,[{key:\"componentDidMount\",value:function componentDidMount(){checkAuthorization(this.props);var details=getUserDetails();this.setState({user:details});this.fetchChannels();}},{key:\"fetchChannels\",value:function(){var _fetchChannels=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _resp,form;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Axios_Instance.get(\"\".concat(ROUTES.fetch_watchlist));case 3:_resp=_context.sent;if(_resp){_context.next=7;break;}_resp={data:{success:false,msg:'Unexpected error occured'}};return _context.abrupt(\"return\");case 7:if(_resp.data&&_resp.data.success){form=this.state.form;form.response=_resp.data.data.watchlists;this.setState({form:form});}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);Notification({show:true,data:_context.t0?_context.t0.response?_context.t0.response.data:_context.t0:\"Exception ocurred\"});case 13:case\"end\":return _context.stop();}}},_callee,this,[[0,10]]);}));function fetchChannels(){return _fetchChannels.apply(this,arguments);}return fetchChannels;}()},{key:\"OnSelectChannel\",value:function OnSelectChannel(channel){var selectedChannel=this.state.selectedChannel;selectedChannel=channel;this.setState({selectedChannel:selectedChannel});}},{key:\"closePopup\",value:function closePopup(){var selectedChannel=this.state.selectedChannel;selectedChannel={};this.setState({selectedChannel:selectedChannel});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"main-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"page-title\"},/*#__PURE__*/React.createElement(\"p\",{style:{'textTransform':'capitalize'}},\"Watchlists\")),/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},this.state.form.response.map(function(obj,k){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-sm-4 col-xs-12\",key:k},/*#__PURE__*/React.createElement(\"div\",{className:\"card\",style:{\"height\":\"auto\",\"min-height\":\"auto\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-sm-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"channel_logo\"},obj.logo_url&&/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(BASEURL).concat(obj.logo_url)}),!obj.logo_url&&/*#__PURE__*/React.createElement(\"div\",{className:\"blankImage\"},obj.channel_name[0]))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 col-sm-8\"},/*#__PURE__*/React.createElement(\"span\",{style:{\"cursor\":\"pointer\",\"color\":\"blue\"},onClick:_this2.OnSelectChannel.bind(_this2,obj)},obj.channel_name),/*#__PURE__*/React.createElement(\"small\",{style:{display:\"block\",\"color\":\"#ccc\"}},obj.type,\" | \",obj.platform)))));}),this.state.form.response.length===0&&/*#__PURE__*/React.createElement(\"div\",{style:{\"textAlign\":\"center\",\"fontSize\":\"20px\",\"color\":\"#ccc\"}},\"No Channel Found\")))),this.state.selectedChannel&&Object.keys(this.state.selectedChannel).length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"popupOverlay\"},/*#__PURE__*/React.createElement(\"div\",{className:\"popup\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,this.state.selectedChannel.channel_name||'--')),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\",style:{\"marginBottom\":\"10px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-sm-4\"},/*#__PURE__*/React.createElement(\"b\",null,\"Type :\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 col-sm-8\"},this.state.selectedChannel.type||'--')),/*#__PURE__*/React.createElement(\"div\",{className:\"row\",style:{\"marginBottom\":\"10px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-sm-4\"},/*#__PURE__*/React.createElement(\"b\",null,\"Platform :\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 col-sm-8\"},this.state.selectedChannel.platform||'--')),/*#__PURE__*/React.createElement(\"div\",{className:\"row\",style:{\"marginBottom\":\"10px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-sm-4\"},/*#__PURE__*/React.createElement(\"b\",null,\"Channel Name : \")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 col-sm-8\"},this.state.selectedChannel.channel_name||'--')),/*#__PURE__*/React.createElement(\"div\",{className:\"row\",style:{\"marginBottom\":\"10px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-sm-4\"},/*#__PURE__*/React.createElement(\"b\",null,\"Channel Url : \")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 col-sm-8\"},/*#__PURE__*/React.createElement(Link,{to:this.state.selectedChannel.channel_url},this.state.selectedChannel.channel_url||'--'))),/*#__PURE__*/React.createElement(\"div\",{style:{\"marginBottom\":\"10px\",\"marginTop\":\"50px\"}},/*#__PURE__*/React.createElement(\"button\",{className:\"btn\",onClick:this.closePopup.bind(this)},\"Close\"))))));}}]);return Channles;}(Component);export default withRouter(Channles);","map":{"version":3,"sources":["/home/saurabh/workspace/go/thehylm-client/client/src/components/watchlists.js"],"names":["React","Component","withRouter","Link","Axios_Instance","Ax","BASEURL","ROUTES","checkAuthorization","getUserDetails","Notification","Channles","state","user","form","props","details","setState","fetchChannels","get","fetch_watchlist","_resp","data","success","msg","response","watchlists","show","channel","selectedChannel","map","obj","k","logo_url","channel_name","OnSelectChannel","bind","display","type","platform","length","Object","keys","channel_url","closePopup"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'; \nimport { withRouter, Link } from 'react-router-dom';\nimport { Axios_Instance, Ax } from '../utils/axiosInterceptor';\nimport { BASEURL, ROUTES} from '../config/routes';\nimport { checkAuthorization, getUserDetails } from '../utils';\nimport {Notification} from '../utils';\n\nclass Channles extends Component {\n    constructor(){\n        super(); \n        this.state = {\n            user:{},\n            form:{\n                \"response\":[],\n                \"selectedChannel\":{}\n            }\n        }\n    }\n\n    componentDidMount(){\n        checkAuthorization(this.props);\n        let details = getUserDetails();\n        this.setState({user:details});\n        this.fetchChannels();\n    }; \n \n   \n    async fetchChannels(){\n        try{\n            let _resp = await Axios_Instance.get(`${ROUTES.fetch_watchlist}`);\n            if(!_resp ){\n                _resp = {data:{success:false, msg:'Unexpected error occured'} };\n                return;\n            }\n            if(_resp.data && _resp.data.success){\n                let { form } = this.state;\n                form.response = _resp.data.data.watchlists;\n                this.setState({ form });\n            }\n        }catch(ex){\n            Notification({\n                show:true,\n                data:ex ? (ex.response ?ex.response.data : ex) : \"Exception ocurred\"});\n        } \n    }\n\n    OnSelectChannel(channel){\n        let { selectedChannel } = this.state;\n        selectedChannel = channel;\n        this.setState({ selectedChannel });\n    }\n\n    closePopup(){\n        let { selectedChannel } = this.state;\n        selectedChannel = {};\n        this.setState({selectedChannel});\n\n    }\n\n  render() {\n           \n            return (\n                <div className=\"main-container\">\n                    <div className=\"container\">\n                        <h4 className=\"page-title\">\n                            <p style={{'textTransform':'capitalize'}}>Watchlists\n                            {/* <span style={{\"float\":\"right\", \"fontSize\":\"10px\"}}><Link to={'/add-channel-page'}>Add New Channel/Page</Link></span> */}\n                            </p>\n                        </h4>\n\n                        <div className=\"\">\n                            <div className=\"row\">\n                                {this.state.form.response.map((obj, k )=>\n                                    <div className=\"col-md-4 col-sm-4 col-xs-12\" key={k}>\n                                    <div className=\"card\" style={{\"height\":\"auto\", \"min-height\":\"auto\"}}>\n                                        <div className=\"row\">\n                                        <div className=\"col-md-4 col-sm-4\" >\n                                            <div className=\"channel_logo\">\n                                                {obj.logo_url && <img src={`${BASEURL}${obj.logo_url}`} />}\n                                                {!obj.logo_url && <div className=\"blankImage\">{obj.channel_name[0]}</div>}\n                                            </div>\n                                        </div>\n                                        <div className=\"col-md-8 col-sm-8\">\n                                            <span style={{\"cursor\":\"pointer\", \"color\":\"blue\"}} onClick={this.OnSelectChannel.bind(this, obj)}>{obj.channel_name}</span>\n                                            <small style={{display:\"block\", \"color\":\"#ccc\"}}>{obj.type} | {obj.platform}</small>\n                                            {/* <Link to={\"/add-events\"} style={{\"fontSize\":\"10px\"}}>Add Event</Link> */}\n                                        </div>\n                                        </div>\n                                    </div>\n                                </div> \n                                )}\n                                {this.state.form.response.length === 0 &&\n                                    <div style={{\"textAlign\":\"center\", \"fontSize\":\"20px\", \"color\":\"#ccc\"}}>No Channel Found</div>\n                                }\n                            </div> \n                        </div>\n    \n                    </div>\n\n                    \n                    {this.state.selectedChannel && Object.keys(this.state.selectedChannel).length > 0 && \n                        <div className=\"popupOverlay\">\n                            <div className=\"popup\">\n                                <p><b>{this.state.selectedChannel.channel_name || '--'}</b></p>\n                                <hr />\n                                <div>\n                                    <div className=\"row\" style={{\"marginBottom\":\"10px\"}}>\n                                        <div className=\"col-md-4 col-sm-4\"><b>Type :</b></div>\n                                        <div className=\"col-md-8 col-sm-8\">{this.state.selectedChannel.type || '--'}</div>\n                                    </div>\n                                    <div className=\"row\" style={{\"marginBottom\":\"10px\"}}>\n                                        <div className=\"col-md-4 col-sm-4\"><b>Platform :</b></div>\n                                        <div className=\"col-md-8 col-sm-8\">{this.state.selectedChannel.platform || '--'}</div>\n                                    </div>\n                                    <div className=\"row\" style={{\"marginBottom\":\"10px\"}}>\n                                        <div className=\"col-md-4 col-sm-4\"><b>Channel Name : </b></div>\n                                        <div className=\"col-md-8 col-sm-8\">{this.state.selectedChannel.channel_name || '--'}</div>\n                                    </div>\n                                    <div className=\"row\" style={{\"marginBottom\":\"10px\"}}>\n                                        <div className=\"col-md-4 col-sm-4\"><b>Channel Url : </b></div>\n                                        <div className=\"col-md-8 col-sm-8\"><Link to={this.state.selectedChannel.channel_url}>{this.state.selectedChannel.channel_url || '--'}</Link></div>\n                                    </div>\n                                    <div style={{\"marginBottom\":\"10px\", \"marginTop\":\"50px\"}}>\n                                    {/* <button className=\"btn btn-primary\" style={{\"marginRight\":\"10px\"}}>Edit Details</button> */}\n                                    <button className=\"btn\" onClick={this.closePopup.bind(this)}>Close</button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    \n                    }\n                    \n                </div>\n            );\n    }\n  \n}\n\nexport default withRouter(Channles);"]},"metadata":{},"sourceType":"module"}