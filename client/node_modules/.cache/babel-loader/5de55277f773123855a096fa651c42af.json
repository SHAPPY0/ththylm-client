{"ast":null,"code":"import _regeneratorRuntime from\"/home/saurabh/workspace/go/thehylm-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/saurabh/workspace/go/thehylm-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/saurabh/workspace/go/thehylm-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/saurabh/workspace/go/thehylm-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/saurabh/workspace/go/thehylm-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/saurabh/workspace/go/thehylm-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withRouter,Link}from'react-router-dom';import{Axios}from'../utils/axiosInterceptor';import{BASEURL,ROUTES}from'../config/routes';import{SIGNUP_REQ_VALIDATOR}from'../utils/validators';import{Notification,getUserDetails}from'../utils';var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);var _super=_createSuper(Signup);function Signup(){var _this;_classCallCheck(this,Signup);_this=_super.call(this);_this.state={form:{first_name:'',last_name:'',email:'',password:'',cnfpassword:'',user_type:0}};return _this;}_createClass(Signup,[{key:\"componentDidMount\",value:function componentDidMount(){var user=getUserDetails();if(Object.keys(user).length>0){this.props.history.push(\"/dashboard\");}}},{key:\"_handleFormChange\",value:function _handleFormChange(e){var form=this.state.form;form[e.target.name]=e.target.value;this.setState({form:form});}},{key:\"_onFormSubmit\",value:function(){var _onFormSubmit2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var form,_error,_resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();form=this.state.form;_error=SIGNUP_REQ_VALIDATOR(form);if(!_error.is_error){_context.next=6;break;}Notification({show:true,data:{success:false,msg:_error.msg}});return _context.abrupt(\"return\");case 6:_context.prev=6;form.user_type=parseInt(form.user_type);_context.next=10;return Axios.post(\"\".concat(BASEURL).concat(ROUTES.register),form);case 10:_resp=_context.sent;if(_resp){_context.next=14;break;}_resp={data:{success:false,msg:'Unexpected erro occured'}};return _context.abrupt(\"return\");case 14:Notification({show:true,data:{success:_resp.data.success,msg:_resp.data.message||_resp.data.msg}});_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](6);Notification({show:true,data:{success:false,msg:_context.t0?_context.t0.response?_context.t0.response.data:_context.t0:\"Exception ocurred\"}});case 20:case\"end\":return _context.stop();}}},_callee,this,[[6,17]]);}));function _onFormSubmit(_x){return _onFormSubmit2.apply(this,arguments);}return _onFormSubmit;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"inner-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-sm-4\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-sm-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"logo_plain text-center\"},/*#__PURE__*/React.createElement(\"img\",{src:\"./assets/images/logo.png\",alt:\"thePuerta\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"card\",style:{\"marginTop\":\"20px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"contctxt\"},\"User SIGNUP\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"formint conForm\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"input-wrap has-float-label\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"first_name\",required:true,onChange:this._handleFormChange.bind(this),className:\"form-control\"}),/*#__PURE__*/React.createElement(\"span\",null,\"First Name*\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-wrap has-float-label\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"last_name\",onChange:this._handleFormChange.bind(this),className:\"form-control\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Last Name\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-wrap has-float-label\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"email\",required:true,onChange:this._handleFormChange.bind(this),className:\"form-control\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Email*\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-wrap has-float-label\"},/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",required:true,onChange:this._handleFormChange.bind(this),className:\"form-control\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Password*\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-wrap has-float-label\"},/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"cnfpassword\",required:true,onChange:this._handleFormChange.bind(this),className:\"form-control\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Repeat Password*\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-wrap has-float-label\"},/*#__PURE__*/React.createElement(\"select\",{name:\"user_type\",required:true,onChange:this._handleFormChange.bind(this),className:\"form-control\"},/*#__PURE__*/React.createElement(\"option\",null,\"--\"),/*#__PURE__*/React.createElement(\"option\",{value:\"1\"},\"Creator \"),/*#__PURE__*/React.createElement(\"option\",{value:\"2\"},\"Viewer\")),/*#__PURE__*/React.createElement(\"span\",null,\"You are a*\")),/*#__PURE__*/React.createElement(\"div\",{className:\"sub-btn text-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn\",onClick:this._onFormSubmit.bind(this)},\"SIGNUP\")),/*#__PURE__*/React.createElement(\"div\",{className:\"newuser\"},\"Already have an account? \",/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Signin Here\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-sm-4\"}))));}}]);return Signup;}(Component);// const mapDispatchToProps = (dispatch)=>{\n//   return{\n//     'notification':(data)=>dispatch({'type':ACTION_TYPES.TOGGLE_NOTIFICATION, ...data})\n//   }\n// }\nexport default withRouter(Signup);","map":{"version":3,"sources":["/home/saurabh/workspace/go/thehylm-client/client/src/components/signup.js"],"names":["React","Component","withRouter","Link","Axios","BASEURL","ROUTES","SIGNUP_REQ_VALIDATOR","Notification","getUserDetails","Signup","state","form","first_name","last_name","email","password","cnfpassword","user_type","user","Object","keys","length","props","history","push","e","target","name","value","setState","preventDefault","_error","is_error","show","data","success","msg","parseInt","post","register","_resp","message","response","_handleFormChange","bind","_onFormSubmit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'; \nimport { withRouter, Link } from 'react-router-dom';\nimport { Axios } from '../utils/axiosInterceptor';\nimport { BASEURL, ROUTES} from '../config/routes';\nimport { SIGNUP_REQ_VALIDATOR} from '../utils/validators';\nimport {Notification, getUserDetails} from '../utils';\n\n\nclass Signup extends Component {\n    constructor(){\n        super(); \n        this.state = {\n          form:{\n            first_name:'',\n            last_name:'',\n            email:'',\n            password:'',\n            cnfpassword:'',\n            user_type:0\n          }\n        }\n    }\n\n    componentDidMount(){\n      let user = getUserDetails();\n      if(Object.keys(user).length > 0){\n          this.props.history.push(\"/dashboard\");\n      }\n  }\n\n  _handleFormChange(e){\n    let {form} = this.state;\n    form[e.target.name] = e.target.value;\n    this.setState({form});\n  };\n\n  async _onFormSubmit(e){\n    e.preventDefault();\n    let {form} = this.state;\n    let _error = SIGNUP_REQ_VALIDATOR(form);\n    if(_error.is_error) {\n      Notification({\n        show:true,\n        data:{success:false, msg:_error.msg}});\n        return;\n    }\n    try{\n      form.user_type = parseInt(form.user_type);\n      let _resp = await Axios.post(`${BASEURL}${ROUTES.register}`,form);\n      if(!_resp ){_resp = {data:{success:false, msg:'Unexpected erro occured'} }; return;}\n      Notification({\n        show: true,\n        data:{success:_resp.data.success, msg:_resp.data.message || _resp.data.msg}\n      });\n      \n    }catch(ex){\n      Notification({\n        show:true,\n        data:{success:false, msg:ex ? (ex.response ?ex.response.data : ex) : \"Exception ocurred\"}});\n    }\n\n  };\n\n  render() {\n            return (\n                <div className=\"inner-container\">\n                <div className=\"container\">\n                  <div className=\"row\">\n                    <div className=\"col-md-4 col-sm-4\"></div>\n                    <div className=\"col-md-4 col-sm-4\">\n                      <div className=\"logo_plain text-center\"><img src={\"./assets/images/logo.png\"} alt=\"thePuerta\"/></div>\n                      <div className=\"card\" style={{\"marginTop\":\"20px\"}}>\n                          \n                        <div className=\"contctxt\">User SIGNUP</div><br />\n                        <div className=\"formint conForm\">\n                          <form>\n                            <div className=\"input-wrap has-float-label\">\n                              <input type=\"text\" name=\"first_name\" required onChange={this._handleFormChange.bind(this)} className=\"form-control\" />\n                              <span>First Name*</span>\n                            </div>\n                            <div className=\"input-wrap has-float-label\">\n                              <input type=\"text\" name=\"last_name\" onChange={this._handleFormChange.bind(this)}  className=\"form-control\" />\n                              <span>Last Name</span>\n                            </div>\n                            <div className=\"input-wrap has-float-label\">\n                              <input type=\"text\" name=\"email\" required onChange={this._handleFormChange.bind(this)}  className=\"form-control\" />\n                              <span>Email*</span>\n                            </div>\n                            {/* <div className=\"input-wrap has-float-label\">\n                              <input type=\"text\" name=\"mobile\" required onChange={this._handleFormChange.bind(this)}  className=\"form-control\" />\n                              <span>Mobile</span>\n                            </div> */}\n                            <div className=\"input-wrap has-float-label\">\n                              <input type=\"password\" name=\"password\" required onChange={this._handleFormChange.bind(this)}  className=\"form-control\" />\n                              <span>Password*</span>\n                            </div>\n                            <div className=\"input-wrap has-float-label\">\n                              <input type=\"password\" name=\"cnfpassword\" required onChange={this._handleFormChange.bind(this)}  className=\"form-control\" />\n                              <span>Repeat Password*</span>\n                            </div>\n                            <div className=\"input-wrap has-float-label\">\n                              <select name=\"user_type\" required onChange={this._handleFormChange.bind(this)}  className=\"form-control\">\n                                <option>--</option>\n                                <option value=\"1\">Creator </option>\n                                <option value=\"2\">Viewer</option>\n                              </select>\n                              <span>You are a*</span>\n                            </div>\n                            \n                            \n                            <div className=\"sub-btn text-center\">\n                                <button className=\"btn\" onClick={this._onFormSubmit.bind(this)}>SIGNUP</button>\n                            </div>\n                            <div className=\"newuser\">\n                              {/* <i className=\"fa fa-user\" aria-hidden=\"true\"></i> */}\n                               Already have an account? <Link to='/'>Signin Here</Link></div>\n                          </form>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"col-md-4 col-sm-4\"></div>\n                  </div>\n                </div>\n              </div>\n            );\n    }\n  \n}\n\n// const mapDispatchToProps = (dispatch)=>{\n//   return{\n//     'notification':(data)=>dispatch({'type':ACTION_TYPES.TOGGLE_NOTIFICATION, ...data})\n//   }\n// }\n\nexport default withRouter(Signup);"]},"metadata":{},"sourceType":"module"}