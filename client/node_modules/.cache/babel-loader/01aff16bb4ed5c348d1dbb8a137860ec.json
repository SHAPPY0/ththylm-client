{"ast":null,"code":"var _jsxFileName = \"/home/saurabh/workspace/go/mmm-client/src/components/channels.js\";\nimport React, { Component } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { Axios_Instance, Ax } from '../utils/axiosInterceptor';\nimport { BASEURL, ROUTES } from '../config/routes';\nimport { checkAuthorization, getUserDetails } from '../utils';\nimport { BUILDING_REQ_VALIDATOR } from '../utils/validators';\nimport { Notification } from '../utils';\n\nclass Channles extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: {},\n      form: {\n        'type': '',\n        'platform': '',\n        'channel_name': '',\n        'channel_url': '',\n        'about': '',\n        'tags': [],\n        'logo': ''\n      }\n    };\n  }\n\n  componentDidMount() {\n    checkAuthorization(this.props);\n    let details = getUserDetails();\n    this.setState({\n      user: details\n    });\n  }\n\n  _onFormFieldChange(e) {\n    let {\n      form\n    } = this.state;\n    let emdObj = form;\n\n    if (e.target.name === 'logo') {\n      emdObj[e.target.name] = e.target.files[0];\n    } else emdObj[e.target.name] = e.target.value;\n\n    this.setState({\n      form\n    });\n  }\n\n  _appendFloorDetails() {\n    let {\n      form\n    } = this.state;\n    let total_f_no = form.floors.length;\n    form.floors.push({\n      'floor_no': total_f_no + 1,\n      'apartments': '',\n      'details': [{\n        'apartment_no': '',\n        'is_vacant': true,\n        'type': '',\n        'rent_amount': 0,\n        'security_amount': 0,\n        'maintenance_charges': 0,\n        'electricity_charges': 0,\n        'water_charges': 0,\n        'gas_charges': 0,\n        'amenities': {},\n        \"tenants_allowed\": 0,\n        \"tenants\": [{\n          \"tenant_id\": \"\",\n          \"start_date\": \"\",\n          \"end_date\": \"\"\n        }]\n      }]\n    });\n    this.setState({\n      form\n    });\n  }\n\n  _addApartment(floor_no) {\n    if (!isNaN(floor_no)) {\n      let {\n        form\n      } = this.state;\n      form.floors[floor_no].details.push({\n        'apartment_no': '',\n        'is_vacant': true,\n        'type': '',\n        'rent_amount': 0,\n        'security_amount': 0,\n        'maintenance_charges': 0,\n        'electricity_charges': 0,\n        'water_charges': 0,\n        'gas_charges': 0,\n        'amenities': {},\n        \"tenants_allowed\": 0,\n        \"tenants\": [{\n          \"tenant_id\": \"\",\n          \"start_date\": \"\",\n          \"end_date\": \"\"\n        }]\n      });\n      this.setState({\n        form\n      });\n    }\n\n    ;\n  }\n\n  async _addChannel(e) {\n    e.preventDefault();\n    let {\n      form\n    } = this.state;\n    if (form.tags) form.tags = form.tags.split(\",\");\n    let fd = new FormData();\n\n    for (let k in form) {\n      fd.append(k, form[k]);\n    }\n\n    ; // let _error = BUILDING_REQ_VALIDATOR(form);\n    // if(_error && _error.is_error){\n    //     alert(_error.msg);\n    //     return;\n    // } \n\n    try {\n      let _resp = await Axios_Instance.post(`${ROUTES.add_channel}`, fd);\n\n      if (!_resp && !_resp.data) {\n        _resp = {\n          data: {\n            success: false,\n            msg: 'Unexpected erro occured'\n          }\n        };\n      }\n\n      Notification({\n        show: true,\n        data: {\n          success: _resp.data.success,\n          msg: _resp.data.message || _resp.data.msg\n        }\n      });\n    } catch (ex) {\n      Notification({\n        show: true,\n        data: ex.response ? ex.response.data : ex\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"page-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        'textTransform': 'capitalize'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }, \"Channels/Pages\", /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 81\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: '/add-channel-page',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 87\n      }\n    }, \"Add New Channel/Page\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 29\n      }\n    }, \"dfs\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 29\n      }\n    }, \"sdf\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 29\n      }\n    }, \"sdfsdsdf\")))));\n  }\n\n}\n\nexport default withRouter(Channles);","map":{"version":3,"sources":["/home/saurabh/workspace/go/mmm-client/src/components/channels.js"],"names":["React","Component","withRouter","Link","Axios_Instance","Ax","BASEURL","ROUTES","checkAuthorization","getUserDetails","BUILDING_REQ_VALIDATOR","Notification","Channles","constructor","state","user","form","componentDidMount","props","details","setState","_onFormFieldChange","e","emdObj","target","name","files","value","_appendFloorDetails","total_f_no","floors","length","push","_addApartment","floor_no","isNaN","_addChannel","preventDefault","tags","split","fd","FormData","k","append","_resp","post","add_channel","data","success","msg","show","message","ex","response","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'; \nimport { withRouter, Link } from 'react-router-dom';\nimport { Axios_Instance, Ax } from '../utils/axiosInterceptor';\nimport { BASEURL, ROUTES} from '../config/routes';\nimport { checkAuthorization, getUserDetails } from '../utils';\nimport { BUILDING_REQ_VALIDATOR } from '../utils/validators';\nimport {Notification} from '../utils';\n\nclass Channles extends Component {\n    constructor(){\n        super(); \n        this.state = {\n            user:{},\n            form:{\n                'type':'',\n                'platform':'',\n                'channel_name':'',\n                'channel_url':'',\n                'about':'',\n                'tags':[],\n                'logo':''\n            }\n        }\n    }\n\n    componentDidMount(){\n        checkAuthorization(this.props);\n        let details = getUserDetails();\n        this.setState({user:details});\n    };\n\n    _onFormFieldChange(e){\n        let { form } =  this.state;\n        let emdObj = form;\n        if(e.target.name === 'logo'){\n            emdObj[e.target.name] = e.target.files[0];    \n        }else\n            emdObj[e.target.name] = e.target.value;\n        this.setState({form});\n    };\n\n    _appendFloorDetails(){\n        let { form } = this.state;\n        let total_f_no = form.floors.length;\n            form.floors.push({\n                'floor_no':total_f_no+1,\n                'apartments':'',\n                'details':[{\n                    'apartment_no':'',\n                    'is_vacant':true,\n                    'type':'',\n                    'rent_amount':0,\n                    'security_amount':0,\n                    'maintenance_charges':0,\n                    'electricity_charges':0,\n                    'water_charges':0,\n                    'gas_charges':0,\n                    'amenities':{},\n                    \"tenants_allowed\":0,\n                    \"tenants\":[{\n                        \"tenant_id\":\"\",\n                        \"start_date\":\"\",\n                        \"end_date\":\"\"\n                    }]\n                }]\n            });\n        this.setState({form});\n    };\n\n    _addApartment(floor_no){\n        if(!isNaN(floor_no)){\n            let { form } = this.state;\n            form.floors[floor_no].details.push(\n                {\n                    'apartment_no':'',\n                    'is_vacant':true,\n                    'type':'',\n                    'rent_amount':0,\n                    'security_amount':0,\n                    'maintenance_charges':0,\n                    'electricity_charges':0,\n                    'water_charges':0,\n                    'gas_charges':0,\n                    'amenities':{},\n                    \"tenants_allowed\":0,\n                    \"tenants\":[{\n                        \"tenant_id\":\"\",\n                        \"start_date\":\"\",\n                        \"end_date\":\"\"\n                    }]\n                }\n            );\n            this.setState({form});\n        };\n    };\n\n    async _addChannel(e){\n        e.preventDefault();\n        let { form } = this.state;\n        if(form.tags) form.tags = form.tags.split(\",\");\n        let fd = new FormData();\n        for( let k  in form){\n            fd.append(k,form[k]);\n        };\n \n        // let _error = BUILDING_REQ_VALIDATOR(form);\n        // if(_error && _error.is_error){\n        //     alert(_error.msg);\n        //     return;\n        // } \n        try{\n            let _resp = await Axios_Instance.post(`${ROUTES.add_channel}`,fd);\n            if(!_resp && !_resp.data){_resp = {data:{success:false, msg:'Unexpected erro occured'} };}\n            Notification({\n                show: true,\n                data:{success:_resp.data.success, msg:_resp.data.message || _resp.data.msg}\n              });\n        }catch(ex){\n            Notification({\n                show:true,\n                data:ex.response ?ex.response.data : ex});\n            \n        }\n        \n    }\n\n  render() {\n            return (\n                <div className=\"main-container\">\n                <div className=\"container\">\n                    <h4 className=\"page-title\">\n                        <p style={{'textTransform':'capitalize'}}>Channels/Pages<span><Link to={'/add-channel-page'}>Add New Channel/Page</Link></span></p>\n                    </h4>\n\n                    <div className=\"card\">\n                        <div className=\"row\">\n                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                               dfs\n                            </div>\n                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                              sdf\n                            </div>\n                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                               sdfsdsdf\n                            </div>\n                        </div> \n                    </div>\n  \n                </div>\n                </div>\n            );\n    }\n  \n}\n\nexport default withRouter(Channles);"]},"metadata":{},"sourceType":"module"}