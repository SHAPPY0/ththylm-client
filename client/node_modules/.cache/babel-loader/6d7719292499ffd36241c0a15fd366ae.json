{"ast":null,"code":"import _regeneratorRuntime from\"/home/saurabh/workspace/go/thehylm-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/saurabh/workspace/go/thehylm-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/saurabh/workspace/go/thehylm-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/saurabh/workspace/go/thehylm-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/saurabh/workspace/go/thehylm-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/saurabh/workspace/go/thehylm-client/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withRouter,Link}from'react-router-dom';import{Axios}from'../utils/axiosInterceptor';import{BASEURL,ROUTES}from'../config/routes';import{CONFIGS}from'../config';import{Notification,getUserDetails}from'../utils';var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);var _super=_createSuper(Signup);function Signup(){var _this;_classCallCheck(this,Signup);_this=_super.call(this);_this.state={form:{email:'',password:''}};return _this;}_createClass(Signup,[{key:\"componentDidMount\",value:function componentDidMount(){var user=getUserDetails();if(Object.keys(user).length>0){this.props.history.push(\"/dashboard\");}}},{key:\"_handleFormChange\",value:function _handleFormChange(e){var form=this.state.form;form[e.target.name]=e.target.value;this.setState({form:form});}},{key:\"_onFormSubmit\",value:function(){var _onFormSubmit2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var form,_resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();form=this.state.form;if(!(!form.email||!form.password)){_context.next=5;break;}Notification({show:true,data:{success:false,msg:'Please enter email and password'}});return _context.abrupt(\"return\");case 5:_context.prev=5;_context.next=8;return Axios.post(\"\".concat(BASEURL).concat(ROUTES.login),form);case 8:_resp=_context.sent;if(_resp){_context.next=12;break;}_resp={data:{success:false,msg:'Unexpected erro occured'}};return _context.abrupt(\"return\");case 12:if(_resp&&_resp.data&&_resp.data.success){localStorage.setItem(CONFIGS.uLocal,_resp.data.data.token);this.props.history.push('/dashboard');}else{Notification({show:true,data:{success:_resp.data.success,msg:_resp.data.data.error||_resp.data.message}});}_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](5);Notification({show:true,data:{success:false,msg:_context.t0?_context.t0.response?_context.t0.response.data.error:_context.t0:\"Exception ocurred\"}});case 18:case\"end\":return _context.stop();}}},_callee,this,[[5,15]]);}));function _onFormSubmit(_x){return _onFormSubmit2.apply(this,arguments);}return _onFormSubmit;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"inner-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-sm-4\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-sm-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"logo_plain text-center\"},/*#__PURE__*/React.createElement(\"img\",{src:\"./assets/images/logo.png\",alt:\"thePuerta\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"card\",style:{\"marginTop\":\"20px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"contctxt\"},\"User SIGNIN\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"formint conForm\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"input-wrap has-float-label\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"email\",className:\"form-control\",onChange:this._handleFormChange.bind(this)}),/*#__PURE__*/React.createElement(\"span\",null,\"Email\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-wrap has-float-label\"},/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",onChange:this._handleFormChange.bind(this)}),/*#__PURE__*/React.createElement(\"span\",null,\"Password\")),/*#__PURE__*/React.createElement(\"div\",{className:\"sub-btn text-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn\",onClick:this._onFormSubmit.bind(this)},\"SIGNIN\")),/*#__PURE__*/React.createElement(\"div\",{className:\"newuser\"},\"Not Registered? \",/*#__PURE__*/React.createElement(Link,{to:\"/signup\"},\"Signup\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-sm-4\"}))));}}]);return Signup;}(Component);export default withRouter(Signup);","map":{"version":3,"sources":["/home/saurabh/workspace/go/thehylm-client/client/src/components/signin.js"],"names":["React","Component","withRouter","Link","Axios","BASEURL","ROUTES","CONFIGS","Notification","getUserDetails","Signup","state","form","email","password","user","Object","keys","length","props","history","push","e","target","name","value","setState","preventDefault","show","data","success","msg","post","login","_resp","localStorage","setItem","uLocal","token","error","message","response","_handleFormChange","bind","_onFormSubmit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'; \nimport { withRouter,Link } from 'react-router-dom';\nimport { Axios } from '../utils/axiosInterceptor';\nimport { BASEURL, ROUTES} from '../config/routes';\nimport {  CONFIGS} from '../config';\nimport {Notification, getUserDetails} from '../utils';\n\nclass Signup extends Component {\n    constructor(){\n        super(); \n        this.state = {\n            form:{email:'',password:''}\n        }\n    }\n\n    componentDidMount(){\n        let user = getUserDetails();\n        if(Object.keys(user).length > 0){\n            this.props.history.push(\"/dashboard\");\n        }\n    }\n\n    _handleFormChange(e){\n        let {form} = this.state;\n        form[e.target.name] = e.target.value;\n        this.setState({form});\n      };\n\n      async _onFormSubmit(e){\n        e.preventDefault();\n        let {form} = this.state;\n        if(!form.email || !form.password){\n            Notification({\n                show: true,\n                data:{success:false, msg:'Please enter email and password'}\n              });\n            return;\n        }\n        try{\n          let _resp = await Axios.post(`${BASEURL}${ROUTES.login}`,form);\n          if(!_resp){_resp = {data:{success:false, msg:'Unexpected erro occured'} }; return;}\n\n          if(_resp && _resp.data &&_resp.data.success){\n              localStorage.setItem(CONFIGS.uLocal, _resp.data.data.token);\n              this.props.history.push('/dashboard');\n          }else{\n            Notification({\n                show: true,\n                data:{success:_resp.data.success, msg:_resp.data.data.error || _resp.data.message}\n              });\n          }\n        }catch(ex){\n          Notification({\n            show:true,\n            data:{success:false, msg:ex ? (ex.response ?ex.response.data.error : ex) : \"Exception ocurred\"}\n        });}\n    \n      };\n\n  render() {\n            return (\n                <div className=\"inner-container\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                        <div className=\"col-md-4 col-sm-4\"></div>\n                        <div className=\"col-md-4 col-sm-4\">\n                            <div className=\"logo_plain text-center\"><img src={\"./assets/images/logo.png\"} alt=\"thePuerta\"/></div>\n                            <div className=\"card\" style={{\"marginTop\":\"20px\"}}>\n                                \n                            <div className=\"contctxt\">User SIGNIN</div><br />\n                            <div className=\"formint conForm\">\n                                <form>\n                                <div className=\"input-wrap has-float-label\">\n                                    <input type=\"text\" name=\"email\" className=\"form-control\" onChange={this._handleFormChange.bind(this)} />\n                                    <span>Email</span>\n                                </div>\n                                <div className=\"input-wrap has-float-label\">\n                                    <input type=\"password\" name=\"password\" className=\"form-control\" onChange={this._handleFormChange.bind(this)}/>\n                                    <span>Password</span>\n                                </div>\n                                <div className=\"sub-btn text-center\">\n                                    <button className=\"btn\" onClick={this._onFormSubmit.bind(this)}>SIGNIN</button>\n                                </div>\n                                <div className=\"newuser\">\n                                    {/* <i className=\"fa fa-user\" aria-hidden=\"true\"></i>  */}\n                                    Not Registered? <Link to='/signup'>Signup</Link></div>\n                                </form>\n                            </div>\n                            </div>\n                        </div>\n                        <div className=\"col-md-4 col-sm-4\"></div>\n                        </div>\n                    </div>\n                    </div>\n            );\n    }\n  \n}\n\nexport default withRouter(Signup);"]},"metadata":{},"sourceType":"module"}