{"ast":null,"code":"var _jsxFileName = \"/home/saurabh/workspace/go/mmm-client/src/components/subComponents/tenant-dashboard.js\";\nimport React, { Component } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { Axios_Instance } from '../../utils/axiosInterceptor';\nimport { BASEURL, ROUTES } from '../../config/routes';\nimport { checkAuthorization, getUserDetails } from '../../utils';\nimport { BUILDING_REQ_VALIDATOR } from '../../utils/validators';\nimport { Notification } from '../../utils';\nimport Axios from 'axios';\n\nclass TenantDashboard extends Component {\n  constructor() {\n    super();\n    this.state = {\n      buildings: []\n    };\n  }\n\n  componentDidMount() {\n    checkAuthorization(this.props);\n    this.fetchBuildings();\n  }\n\n  _redirectTo() {\n    this.props.history.push('/add-building');\n  }\n\n  async fetchBuildings() {\n    try {\n      let {\n        buildings\n      } = this.state;\n\n      let _resp = await Axios_Instance.get(`${ROUTES.add_building}`);\n\n      if (!_resp && !_resp.data) {\n        _resp = {\n          data: {\n            success: false,\n            msg: 'Unexpected erro occured'\n          }\n        };\n      }\n\n      buildings = _resp.data.data;\n      this.setState({\n        buildings\n      });\n    } catch (ex) {\n      Notification({\n        show: true,\n        data: ex.response ? ex.response.data : ex\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 20\n      }\n    }, \"Tenant\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }\n    }, this.state.buildings.map((b, k) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 col-sm-4 col-xs-6\",\n      key: k,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-home icons card_icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 38\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `/building/${b.b_id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 42\n      }\n    }, b.name || '--')), /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 38\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"theme-color\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 45\n      }\n    }, \"Building ID:\"), \" \", b.b_id || '--', \" \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"copy_bId cursor normal_txt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 112\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-clone\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 157\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row normal_txt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 38\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 45\n      }\n    }, \"Floors: \", /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 56\n      }\n    }, b.total_floors || 0))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 45\n      }\n    }, \"Apartments: \", /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 60\n      }\n    }, b.total_apartments || 0)))))))), !this.state.buildings.length && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"none-txt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 29\n      }\n    }, \"Building not joined yet!\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"add_btn cursor\",\n      title: \"Add building\",\n      onClick: this._redirectTo.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"add_btn_inner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 108\n      }\n    }, \"+\")));\n  }\n\n}\n\nexport default withRouter(TenantDashboard);","map":{"version":3,"sources":["/home/saurabh/workspace/go/mmm-client/src/components/subComponents/tenant-dashboard.js"],"names":["React","Component","withRouter","Link","Axios_Instance","BASEURL","ROUTES","checkAuthorization","getUserDetails","BUILDING_REQ_VALIDATOR","Notification","Axios","TenantDashboard","constructor","state","buildings","componentDidMount","props","fetchBuildings","_redirectTo","history","push","_resp","get","add_building","data","success","msg","setState","ex","show","response","render","map","b","k","b_id","name","total_floors","total_apartments","length","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'; \nimport { withRouter,Link } from 'react-router-dom';\nimport { Axios_Instance } from '../../utils/axiosInterceptor';\nimport { BASEURL, ROUTES} from '../../config/routes';\nimport { checkAuthorization, getUserDetails } from '../../utils';\nimport { BUILDING_REQ_VALIDATOR } from '../../utils/validators';\nimport {Notification} from '../../utils';\nimport Axios from 'axios';\n\nclass TenantDashboard extends Component {\n    constructor(){\n        super(); \n        this.state = {\n            buildings:[]\n        }\n    }\n\n    componentDidMount(){\n        checkAuthorization(this.props); \n        this.fetchBuildings();\n        \n    }; \n\n    _redirectTo(){\n        this.props.history.push('/add-building');\n    };\n\n    async fetchBuildings(){\n        try{\n            let { buildings} = this.state;\n            let _resp = await Axios_Instance.get(`${ROUTES.add_building}`);\n            if(!_resp && !_resp.data){_resp = {data:{success:false, msg:'Unexpected erro occured'} };}\n            buildings = _resp.data.data;\n            this.setState({buildings});\n        }catch(ex){\n            Notification({\n                show:true,\n                data:ex.response ?ex.response.data : ex});\n            }\n        \n    }\n\n  render() {\n            return (\n                 <><p>Tenant</p>\n                    <div className=\"row\">\n                        {this.state.buildings.map((b,k)=>\n                            <div className=\"col-md-3 col-sm-4 col-xs-6\" key={k}>\n                            <div className=\"card\">\n                                <div className=\"card-body\">\n                                    <i className=\"icon-home icons card_icon\"></i>\n                                     <h5><Link to={`/building/${b.b_id}`}>{b.name || '--'}</Link></h5>\n                                     <small><span className=\"theme-color\">Building ID:</span> {b.b_id || '--'} <span className=\"copy_bId cursor normal_txt\"><i className=\"fa fa-clone\"></i></span></small>\n                                     <div className=\"row normal_txt\">\n                                        <div className=\"col-md-6 col-sm-6\">\n                                            <p>Floors: <span>{b.total_floors || 0}</span></p>\n                                        </div>\n                                        <div className=\"col-md-6 col-sm-6\">\n                                            <p>Apartments: <span>{b.total_apartments || 0}</span></p>\n                                        </div>\n                                     </div>\n                                </div>\n                            </div>\n                            </div>\n                        )}\n                        {!this.state.buildings.length && (\n                            <p className=\"none-txt\">Building not joined yet!</p>\n                        )}\n                    </div>\n                \n                <div className=\"add_btn cursor\" title=\"Add building\" onClick={this._redirectTo.bind(this)}><span className=\"add_btn_inner\">+</span></div>\n                </>\n            );\n    }\n  \n}\n\nexport default withRouter(TenantDashboard);"]},"metadata":{},"sourceType":"module"}